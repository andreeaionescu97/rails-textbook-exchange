
<body class="body-index">
<h1 class="header-index"> Books you might like. </h1>
<div class="card-container d-flex">
    <% @books.each do |book| %>
      <div class="card-product">
        <div class="card-product-infos">
          <div class="image-display">
              <% if book.photo.attached? %>
                <%= cl_image_tag book.photo.key, height: 300, width: 400, crop: :fill%>
              <% else %>
                <%= image_tag "https://www.pluggedin.com/wp-content/uploads/2020/01/placeholder_book.jpg", style: "height: 300; width: 400;" %>
            <% end %>
          </div>

          <h3><%= link_to book.title, book_path(book), class: "book-title-index" %> </h3>
          <h4><%= book.author %> </h4>
          <p><em> Belongs to <%=book.user.email%></em></p>
          <p><em>On <%=book.created_at.strftime("%A, %b %d")%></em></p>
          <%#= link_to "Remove", book_path(book), method: :delete, :class => "btn-remove" %>
          <%= link_to 'Add to wishlist', book_wishes_path(book.id), method: :post %>
          </div>
        </div>

    <%end%>
</div>

<div id="map"
     style="width: 100%; height: 600px;"
     data-markers="<%= @markers.to_json %>"
     data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
</div>

<%= form_tag books_path, method: :get do %>
  <%= text_field_tag :query,
    params[:query],
    class: "form-control",
    placeholder: "Find a book"
  %>
  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>

</body>
